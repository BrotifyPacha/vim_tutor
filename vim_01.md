# Почему и как я использую Vim

## Вступление

Привет, меня зовут **BrotifyPacha**, Vim это мой основной текстовый редактор уже
как почти год. Я использую его как **Php/Python** ide, и помимо чистого вима,
использую эмулятор IdeaVim в **Android Studio**.

Да, скорее всего это зависимость, т.к. при использовании любого другого
текстового редактора более получаса у меня появляются следующие симптомы:

* Учащённое сердцебиение _(когда приходится перемещаться туда суда используя
  мышку)_
* Раздражительность _(если вдруг понадобилось сменить двойные кавычки на
  одинарные, или наоборот)_
* Дрож в руках (когда нужно найти другой файл)

Ладно, отбросив шутки в сторону, Vim это не только мой редактор исходного кода,
я также использую его для просмотра лог файлов, json документов и
работы с .csv файлами, даже git я использую через Vim.

Сейчас сделаю для вас небольшой тест драйв: _Открываю учебный проектик прорабатываю
создание фичи от получения задачи до коммита_

## Теория

Я не буду вам рассказывать в каком году был создан Vim. Как называется
программа на которой он основан. Или как зовут его автора. Это всё вы, при
желании, можете узнать из википедии.  
Я расскажу вам про подход который используется в Vim для работы с текстом и **4
основных режима** работы и для чего каждый из них нужен.

### Подход к работе с текстом

За каждым архитектурным решением Vim лежит один принцип - при
работе с текстовыми документами, чаще всего, пользователи не вводят новый текст,
а манипулируют уже существующим. Это правдиво не только для
программистов, но и для писателей.
Реализовано это тем, что Vim является режимным
текстовым редактором. То есть, в отличии от без-режимных, в пример возьмем
блокнот windows, где каждая нажатая клавиша напрямую пишет набранный символ
в файл, в Vim действие которое будет сделано по нажатию на клавишу, зависит
от того, в каком режиме находится пользователь.

Иллюстрация действий клавиши i в различных режимах
Normal - перейти в режим ввода
Insert - напечатать символ i
Command - напечатать символ i во встроенную командную строку
Visual - ничего

### 4 основных режима

#### Normal mode (Обычный режим)

Уже из названия можно понять что это режим в
котором мы должны проводить большую часть нашего времени.  В этом режиме мы
оказываемся сразу после запуска. А попасть в этот режим из другого режима мы
можем нажав клавишу `Esc` (от англ. escape - *убежать* из другого режима).

Используется он для перемещения по файлу (файлам) и для осуществления правок:
удаления текста любого объёма, корректировки отступов, корректировки регистра,
в общем, всё что связано с оперированием уже существующим текстом,
делается в этом режиме.

Посимвольно перемещение по файлу осуществляется с помощью клавиш `h` `j` `k` `l`,

* `h` - влево
* `j` - вниз
* `k` - вверх
* `l` - вправо

Поначалу, это очень не удобно, и каждый раз возникает вопрос: почему именно они?
Ответ прост - эргомика. Эти клавиши лежат на так называемой *"Домашней строке"*
\- это строка клавиш, на которой пользователь должен держать пальцы для наибольшей
эффективности набора текста.

Для перемещения в начало строки используется символ `^`. Этот символ выбран потому
что в регулярных выражениях он испольузется для обозначения начала строки.

Для перемещения в конец строки используется символ `$`. По аналогии с `^`, в
регулярных выражениях он обозначает конец строки.

Пока на этом остановимся, попрактикуйтесь в перемещении по строке и между строк.
Клавиш перемещения ещё много, про остальные поговорим чуть позже, после того как
ознакомимся со всеми режимами.

Но если вам прямо не терпиться, то вот клавиши пользуясь которыми можно *"побегать"*
по файлу:  
`w` , `W` , `b` , `B` , `gg` , `G` , `{` , `}` .

Попробуйте понять в чём разница между клавишами нижнего и верхнего регистра.
И если случайно нажмёте куда то не туда - не волнуйтесь. Нажмите несколько раз `Esc`,
и вы вернётесь домой - в Normal mode.

#### Insert mode (Режим ввода)

Режим в который мы "входим" когда нам нужно что то написать, переписать или
дописать.  Для переключея в этот режим используется клавиша `i` (i от
англ. insert - ввод). Заметьте, именно в нижнем регистре, потому что
`I` не просто переключает нас в режим ввода, но и ставит курсор в начало
строки.

Клавиши `i` и `I` не являются единственными клавишами которые
переключают нас в режим ввода, чтобы попасть в режим ввода также можно
использовать клавиши `a` , `A` , `c` , `C` , `s` , `S`.
На первый взгляд выглядит нелепо: столько клавиш потрачено в пустую, лишь для
того, чтобы переключать нас в режим ввода, но это не совсем так. Да, после нажатия
этих клавиш мы окажемся в режиме ввода, но каждая из них доставит нас туда слегка
иным путём:

* Клавиша `a`, в отличии от `i` поставит курсор, после символа, на котором
он находился в обычном режиме (от англ. after - после).
* Клавиша `A`, по аналогии с `I` поставит курсор, в конце строки.
* Клавиша `s`, перед переносом нас в режим ввода, удалит символ под курсором.
* Клавиша `S`, перед переносом нас в режим ввода, удалит весь текст на текущей строке.

Хочу обратить ваше внимание на семантическую однородность в Vim:  
Хочешь выполнить действие?  
\- Нажми клавишу `n`  
Хочешь выполнить это действие но на большем масштабе?  
\- Нажми клавишу `N`

**Важный ньюанс:** будучи в режиме ввода мы можем удалять любой текст, но для
этой цели следует использовать
обычный режим (Normal), т.к. в нём мы можем делать это гораздо эргономичнее.

#### Command mode (Командный режим / Режим инструкций)

Используется для выполнения команд, а также для настройки Vim посредством этих
команд. Да, звучит не особо понятно, поэтому вот пример: чтобы сохранить файл
нужно использовать команду `write`, но перед этим нужно попасть в командный
режим, нажав клавишу `:`, после успешного ввода команды нажимаем `Enter`.
Таким образом мы нажали клавиши `:write<cr>`.

Я специально написал `<cr>` а не просто `Enter` так как Vim воспринимает наш
`Enter` именно как последовательность `<cr>` (от англ. Carrage Return).
Также обратите внимание на то что я использовал `<` `>` скобки, это всё нотация
которую использует Vim.

Но ни один человек в здравом состоянии ума не будет постоянно писать`:write<cr>`
для того чтобы сохранить файл, поэтому у всех команд в Vim есть короткая
вариация. У команды `write` это `w`. То есть сохранение файла для нас
сократилось с нажатия 7 клавиш до 3 - `:w<cr>`, чуть позже мы сможем, при
желании, снизить это кол-во клавиш до одной, но это спойлеры, так что
продолжаем.

#### Visual mode (Визуальный режим)

Режим в котором мы визуально выделяем текст для последующей манипуляции. Для
того чтобы в него попасть используются клавиши `v` , `V` , `<C-v>` .
Три разных клавиши для трёх разных типов визуального режима:

* Используюя клавишу `v` мы попадаем в символьный визуальный режим
* Используюя клавишу `V` мы попадаем в строчный визуальный режим
* А используюя `<C-v>` мы попадаем в блочный визуальный режим

Названия говорят за себя: в симаольном выбор осуществляется по символам,
в строчном - по строкам, в блочном - блоком.

## Практика
